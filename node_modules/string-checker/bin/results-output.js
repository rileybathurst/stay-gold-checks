"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const helpers_1 = require("./helpers");
const options_1 = require("./options");
exports.logResults = (results, searchString) => {
    let error = false;
    let found = false;
    let outputMessage = '';
    for (const result in results) {
        if (results.hasOwnProperty(result)) {
            const res = results[result];
            const message = `found \x1b[35m"${res.matches[0]}"\x1b[37m ${res.count} times in ${result}`;
            const excluded = helpers_1.fileExcluded(result);
            if (options_1.options.showError && !excluded) {
                outputMessage += `  -\x1b[31m ERROR! \x1b[0m  - ${message}\n`;
                error = true;
                found = true;
            }
            else if (!options_1.options.showError && !excluded) {
                outputMessage += `  -\x1b[33m WARNING \x1b[0m  - ${message}\n`;
                found = true;
            }
            else {
                outputMessage += `  -\x1b[34m Excluded \x1b[0m\x1b[2m - ${message}\x1b[0m\n`;
                found = true;
            }
        }
    }
    if (!found) {
        outputMessage += `  -\x1b[32m "${searchString}" Not Found!\x1b[0m\n`;
    }
    return {
        error,
        outputMessage
    };
};
